sudo: false
language: python
matrix:
  include:
    - python: "3.5"
      env: LTD_MASON_BUILD=true
install:
  - pip install -r requirements.txt
  - pip install "ltd-mason>=0.2,<0.3"
script:
  - sphinx-build -b html -a -n -d _build/doctree . _build/html
after_success:
  - ltd-mason-travis --html-dir _build/html
env:
  global:
    - LTD_MASON_BUILD=false  # disable builds in regular text matrix
    - LTD_MASON_PRODUCT="dmtn-027"
    # Add AWS and LTD Keeper credentials as encrypted secrets here
    - secure: "PdMQWDxvUj51VBxdiTVsZfqdmzIx2jv7Pfc4lARdo/Ht5uUPeFxTMTnR+jXCLx9bs9hSJEsZ/efRLWphFNDgarynDov/tQrZXddHcYrpk5B8e0lxTJO3TgBD22OfcUOBvi576FjthKVcCHG4vXtNXSy8uXike7gzNCUa8F6s/0O7le3uDZtl/rGRqoxyTCetDrrUjfrQJgb5HO+VTuP7Gi8ZX0croNznE3brDR4+Ih5/YtYTrXiJwd/ztRGVuqLo3+s2o2/u5M3i6hGqU/2le1WzPYbXSVDZeDn0F7zE3zbt42jcJAIdyTOgp3a/MbVOwPNDVIxyxwwyAx3eBJ39DnMmdFyfdAMmzR+Zo2Az3y+Sc0u6NsKALRmxC3N32Qz4AMcPEIpHE9lhMj+Xq+ttIRDiy5rYQzQNbrCV+fC1+UExXfLsb09eAnYe1GU2r79wQKkJfjP9JJdOohuretked+ZZP358njitS617Dqn4UvORSh7FvnIECaRiWVhOP2678MFD5jty/DekJSMSOUX4dBQmwDUUSPTOWwbdYLEPrJhfnEaRVEvCC8PgNh5JT/+zICqaZJcJEeqnydr8c0jxvCsSzazBq4SZOO/7m8/iWV05HCbhSGlDrpSF+tK0p1F3rgcuy+HTAJWMiQFu/G0CaD6OhhoAxpvJURG8mllnZ/k="
    - secure: "PEkg01BcBs5HiEHJo+6d0kFCEjgpxUycCXd9tt55+Siw83h25w0voSqxdHrSvUOpKsk3KvI6IKMDnHl/s5UmENSgmQfNWojfFg02VNIxsPP1q2VtX2/SUMPgjq7AvoOuAI/vAb/b2bY+HymkIW8U2MLDrnd4TLudqPLe1EwaCtp4oCX3SmRnqYjr9lqPTU6ki7wi5EtzsXdcxf9CJ0WZ4Ru6QdwQdGANHuyzYUwLA1vFsnv6jiemuiJC8gSxYE2JQk/FmNE084nxB/MJbk3K5irAgBsgRG7aSBwnaGYVROZHrpRgvwcNgV/pGqJz/Rue2UDUPhJd36uR2tonUv1UIalQNVPIb2KB8n4tYjQa2WIUh9wiZ6qYekYuOvqrTifanR5t3yRGnD2B3+FMQdoxILW+ynf7zUs9mqrCpxQQO38BHQnxcMW+1FC1Ce0eQ75IPavIZCxyvJRbKWysj3kFDGbqq3GXNyi0G1/4Hqw7LAHeu5ryRvZ+k8Y0if955zNJs1ekFMWxQrD3Qx0/zqLdxWBBwI9uA20H4Y3XgkQKhjT9I6Eh1898KcgO0rvft0Qxp2yTz4fn/50EfPDkX26tSonZWhUIr8X8VmYHOQplE9HofGyX51wLsg1lJOg9fAHkAlLN6GogK8ZygHya2vJAXr9kBhnXpZgYXhSx0+g7vTI="
